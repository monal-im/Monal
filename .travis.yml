os: osx
language: objective-c
xcode_workspace: Monal.xcworkspace
xcode_scheme: Monal
xcode_destination: platform=iOS Simulator,name=iPhone 11 Pro
osx_image: xcode12.2
podfile: Podfile
before_install:
  - cd Monal
  - gem install cocoapods
  - git submodule update --init --recursive
  - git submodule update --remote
install:
  - pod install
script:
  - xcodebuild -workspace "Monal.xcworkspace" -scheme "Monal" -sdk iphonesimulator -destination 'platform=iOS Simulator,name=iPhone 11 Pro' test
notifications:
  email:
    on_success: never # default: change
    on_failure: always # default: always
